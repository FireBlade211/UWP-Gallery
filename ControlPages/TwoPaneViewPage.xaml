<Page
    x:Class="UWPGallery.ControlPages.TwoPaneViewPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:UWPGallery.ControlPages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
    xmlns:controls="using:UWPGallery.Controls">

    <StackPanel Spacing="6">
        <TextBlock TextWrapping="WrapWholeWords">The TwoPaneView can be in one of 3 different display modes: SinglePane, Wide, and Tall.</TextBlock>

        <TextBlock TextWrapping="WrapWholeWords">
            A Wide TwoPaneView displays panes horizontally.
            <LineBreak/>A Tall TwoPaneView displays panes vertically.
            <LineBreak/>A SinglePane TwoPaneView displays only one pane at a time.
            <LineBreak/>
            <LineBreak/>The TwoPaneView automatically switches between these modes based on the available window
            size and the configured MinWideModeWidth and MinTallModeHeight properties.
        </TextBlock>

        <controls:GallerySample HeaderTitle="A simple TwoPaneView - Wide/Tall Mode" MinHeight="650" UrlNameOverride="a-simple-twopaneview-wide-tall-mode">
            <TwoPaneView MinWideModeWidth="800" MinTallModeHeight="500">
                <TwoPaneView.Pane1>
                    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
                        <TextBlock Text="Pane 1" Margin="24"
                       Style="{StaticResource HeaderTextBlockStyle}"/>
                    </Grid>
                </TwoPaneView.Pane1>

                <TwoPaneView.Pane2>
                    <Grid Background="{ThemeResource BackgroundSecondaryBrush}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Text="Pane 2" Margin="24"
                       Style="{StaticResource HeaderTextBlockStyle}"/>

                        <TextBlock Grid.Row="1" Text="Try resizing the window to see the different display modes in action!" 
                                   Style="{StaticResource BaseTextBlockStyle}" Margin="24,0,0,0"/>
                    </Grid>
                </TwoPaneView.Pane2>
            </TwoPaneView>

            <controls:GallerySample.XamlSource>
                <x:String xml:space="preserve">
&lt;TwoPaneView MinWideModeWidth="800" MinTallModeHeight="500"&gt;
    &lt;TwoPaneView.Resources&gt;
        &lt;ResourceDictionary&gt;
            &lt;ResourceDictionary.ThemeDictionaries&gt;
                &lt;ResourceDictionary x:Key="Light"&gt;
                    &lt;StaticResource x:Key="BackgroundSecondaryBrush" ResourceKey="ButtonDisabledBackgroundThemeBrush"/&gt;
                &lt;/ResourceDictionary&gt;
                &lt;ResourceDictionary x:Key="Dark"&gt;
                    &lt;StaticResource x:Key="BackgroundSecondaryBrush" ResourceKey="AppBarItemPointerOverBackgroundThemeBrush"/&gt;
                &lt;/ResourceDictionary&gt;
                &lt;ResourceDictionary x:Key="HighContrast"&gt;
                    &lt;SolidColorBrush x:Key="BackgroundSecondaryBrush" Color="{ThemeResource SystemColorHighlightColor}"/&gt;
                &lt;/ResourceDictionary&gt;
            &lt;/ResourceDictionary.ThemeDictionaries&gt;
        &lt;/ResourceDictionary&gt;
    &lt;/TwoPaneView.Resources&gt;
                    
    &lt;TwoPaneView.Pane1&gt;
        &lt;Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"&gt;
            &lt;TextBlock Text="Pane 1" Margin="24"
            Style="{StaticResource HeaderTextBlockStyle}"/&gt;
        &lt;/Grid&gt;
    &lt;/TwoPaneView.Pane1&gt;

    &lt;TwoPaneView.Pane2&gt;
        &lt;Grid Background="{ThemeResource BackgroundSecondaryBrush}"&gt;
            &lt;Grid.RowDefinitions&gt;
                &lt;RowDefinition Height="Auto"/&gt;
                &lt;RowDefinition Height="Auto"/&gt;
            &lt;/Grid.RowDefinitions&gt;
                        
            &lt;TextBlock Text="Pane 2" Margin="24"
            Style="{StaticResource HeaderTextBlockStyle}"/&gt;

            &lt;TextBlock Grid.Row="1" Text="Try resizing the window to see the different display modes in action!" 
                        Style="{StaticResource BaseTextBlockStyle}" Margin="24,0,0,0"/&gt;
        &lt;/Grid&gt;
    &lt;/TwoPaneView.Pane2&gt;
&lt;/TwoPaneView&gt;
                </x:String>
            </controls:GallerySample.XamlSource>
            
        </controls:GallerySample>


        <controls:GallerySample HeaderTitle="A simple TwoPaneView - SinglePane mode" UrlNameOverride="a-simple-twopaneview-singlepane-mode" MinHeight="450">
            <TwoPaneView MinWideModeWidth="1200" MinTallModeHeight="500" x:Name="singlePaneView">
                <TwoPaneView.Pane1>
                    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
                        <TextBlock Text="Pane 1" Margin="24"
                       Style="{StaticResource HeaderTextBlockStyle}"/>
                    </Grid>
                </TwoPaneView.Pane1>

                <TwoPaneView.Pane2>
                    <Grid Background="{ThemeResource BackgroundSecondaryBrush}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Text="Pane 2" Margin="24"
                       Style="{StaticResource HeaderTextBlockStyle}"/>

                        <TextBlock Grid.Row="1" Text="Note: This pane uses the BackgroundSecondaryBrush from the previous sample." 
                                   Style="{StaticResource BaseTextBlockStyle}" Margin="24,0,0,0"/>
                    </Grid>
                </TwoPaneView.Pane2>
            </TwoPaneView>

            <controls:GallerySample.OptionsFlyout>
                <Flyout>
                    <ToggleSwitch Header="PanePriority" OffContent="Pane1" OnContent="Pane2" x:Name="panePriorityToggle"
                                  Toggled="panePriorityToggle_Toggled"/>
                </Flyout>
            </controls:GallerySample.OptionsFlyout>

            <controls:GallerySample.XamlSource>
                <x:String xml:space="preserve">
&lt;TwoPaneView MinWideModeWidth="1200" MinTallModeHeight="500" x:Name="singlePaneView"&gt;
    &lt;TwoPaneView.Pane1&gt;
        &lt;Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"&gt;
            &lt;TextBlock Text="Pane 1" Margin="24"
            Style="{StaticResource HeaderTextBlockStyle}"/&gt;
        &lt;/Grid&gt;
    &lt;/TwoPaneView.Pane1&gt;

    &lt;TwoPaneView.Pane2&gt;
        &lt;Grid Background="{ThemeResource BackgroundSecondaryBrush}"&gt;
            &lt;Grid.RowDefinitions&gt;
                &lt;RowDefinition Height="Auto"/&gt;
                &lt;RowDefinition Height="Auto"/&gt;
            &lt;/Grid.RowDefinitions&gt;
                        
            &lt;TextBlock Text="Pane 2" Margin="24"
            Style="{StaticResource HeaderTextBlockStyle}"/&gt;

            &lt;TextBlock Grid.Row="1" Text="Note: This pane uses the BackgroundSecondaryBrush from the previous sample." 
                        Style="{StaticResource BaseTextBlockStyle}" Margin="24,0,0,0"/&gt;
        &lt;/Grid&gt;
    &lt;/TwoPaneView.Pane2&gt;
&lt;/TwoPaneView&gt;
                    
...
      
&lt;Flyout&gt;
    &lt;ToggleSwitch Header="PanePriority" OffContent="Pane1" OnContent="Pane2" x:Name="panePriorityToggle"
                    Toggled="panePriorityToggle_Toggled"/&gt;
&lt;/Flyout&gt;
                </x:String>
            </controls:GallerySample.XamlSource>

            <controls:GallerySample.CSharpSource>
                <x:String xml:space="preserve">
private void panePriorityToggle_Toggled(object sender, RoutedEventArgs e)
{
    singlePaneView.PanePriority = panePriorityToggle.IsOn ? TwoPaneViewPriority.Pane2 : TwoPaneViewPriority.Pane1;
}
                </x:String>
            </controls:GallerySample.CSharpSource>
        </controls:GallerySample>

        <controls:GallerySample HeaderTitle="TwoPaneView with Content - Picture Info" UrlNameOverride="twopaneview-with-content-picture-info"
                                MinHeight="1400" x:Name="pictureInfoSample">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" MinHeight="40"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <CommandBar DefaultLabelPosition="Right">
                    <AppBarButton Icon="Share" Label="Share"/>
                    <AppBarButton Icon="Print" Label="Print"/>
                </CommandBar>

                <TwoPaneView
        x:Name="MyTwoPaneView"
        Grid.Row="1"
        MinWideModeWidth="959"
        MinTallModeHeight="863"
        ModeChanged="TwoPaneView_ModeChanged">

                    <TwoPaneView.Pane1>
                        <Grid x:Name="Pane1Root">
                            <ScrollViewer>
                                <StackPanel x:Name="Pane1StackPanel">
                                    <Image Source="/Assets/Branding/background.png"
                               VerticalAlignment="Top" HorizontalAlignment="Center"
                               Margin="16,0"/>
                                </StackPanel>
                            </ScrollViewer>
                        </Grid>
                    </TwoPaneView.Pane1>

                    <TwoPaneView.Pane2>
                        <Grid x:Name="Pane2Root">
                            <ScrollViewer x:Name="DetailsContent">
                                <StackPanel Padding="16">
                                    <TextBlock Text="UWPBackground.png" MaxLines="1" TextTrimming="CharacterEllipsis"
                                           Style="{ThemeResource HeaderTextBlockStyle}"/>
                                    <TextBlock Text="Date Taken:"
                                           Style="{ThemeResource SubheaderTextBlockStyle}"
                                           Margin="0,24,0,0"/>
                                    <TextBlock Text="8/29/2019 9:55am"
                                           Style="{ThemeResource SubtitleTextBlockStyle}"/>
                                    <TextBlock Text="Dimensions:"
                                           Style="{ThemeResource SubheaderTextBlockStyle}"
                                           Margin="0,24,0,0"/>
                                    <TextBlock Text="800x536"
                                           Style="{ThemeResource SubtitleTextBlockStyle}"/>
                                    <TextBlock Text="Resolution:"
                                           Style="{ThemeResource SubheaderTextBlockStyle}"
                                           Margin="0,24,0,0"/>
                                    <TextBlock Text="96 dpi"
                                           Style="{ThemeResource SubtitleTextBlockStyle}"/>
                                    <TextBlock Text="Description:"
                                           Style="{ThemeResource SubheaderTextBlockStyle}"
                                           Margin="0,24,0,0"/>
                                    <TextBlock Text="Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Maecenas porttitor congue massa. Fusce posuere, magna sed pulvinar ultricies, purus lectus malesuada libero, sit amet commodo magna eros quis urna."
                                           Style="{ThemeResource SubtitleTextBlockStyle}"
                                           TextWrapping="Wrap"/>
                                </StackPanel>
                            </ScrollViewer>
                        </Grid>
                    </TwoPaneView.Pane2>
                 </TwoPaneView>

                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup x:Name="TwoPaneViewStates">
                        <VisualState x:Name="Normal"/>
                        <VisualState x:Name="Wide">
                            <VisualState.Setters>
                                <Setter Target="MyTwoPaneView.Pane1Length"
                                Value="2*"/>
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateManager.VisualStateGroups>
            </Grid>

            <controls:GallerySample.XamlSource>
                <x:String xml:space="preserve">
&lt;Grid&gt;
    &lt;Grid.RowDefinitions&gt;
        &lt;RowDefinition Height="Auto" MinHeight="40"/&gt;
        &lt;RowDefinition Height="*"/&gt;
    &lt;/Grid.RowDefinitions&gt;

    &lt;CommandBar DefaultLabelPosition="Right"&gt;
        &lt;AppBarButton Icon="Share" Label="Share"/&gt;
        &lt;AppBarButton Icon="Print" Label="Print"/&gt;
    &lt;/CommandBar&gt;

    &lt;TwoPaneView
x:Name="MyTwoPaneView"
Grid.Row="1"
MinWideModeWidth="959"
MinTallModeHeight="863"
ModeChanged="TwoPaneView_ModeChanged"&gt;

        &lt;TwoPaneView.Pane1&gt;
            &lt;Grid x:Name="Pane1Root"&gt;
                &lt;ScrollViewer&gt;
                    &lt;StackPanel x:Name="Pane1StackPanel"&gt;
                        &lt;Image Source="/Assets/Branding/background.png"
                    VerticalAlignment="Top" HorizontalAlignment="Center"
                    Margin="16,0"/&gt;
                    &lt;/StackPanel&gt;
                &lt;/ScrollViewer&gt;
            &lt;/Grid&gt;
        &lt;/TwoPaneView.Pane1&gt;

        &lt;TwoPaneView.Pane2&gt;
            &lt;Grid x:Name="Pane2Root"&gt;
                &lt;ScrollViewer x:Name="DetailsContent"&gt;
                    &lt;StackPanel Padding="16"&gt;
                        &lt;TextBlock Text="UWPBackground.png" MaxLines="1" TextTrimming="CharacterEllipsis"
                                Style="{ThemeResource HeaderTextBlockStyle}"/&gt;
                        &lt;TextBlock Text="Date Taken:"
                                Style="{ThemeResource SubheaderTextBlockStyle}"
                                Margin="0,24,0,0"/&gt;
                        &lt;TextBlock Text="8/29/2019 9:55am"
                                Style="{ThemeResource SubtitleTextBlockStyle}"/&gt;
                        &lt;TextBlock Text="Dimensions:"
                                Style="{ThemeResource SubheaderTextBlockStyle}"
                                Margin="0,24,0,0"/&gt;
                        &lt;TextBlock Text="800x536"
                                Style="{ThemeResource SubtitleTextBlockStyle}"/&gt;
                        &lt;TextBlock Text="Resolution:"
                                Style="{ThemeResource SubheaderTextBlockStyle}"
                                Margin="0,24,0,0"/&gt;
                        &lt;TextBlock Text="96 dpi"
                                Style="{ThemeResource SubtitleTextBlockStyle}"/&gt;
                        &lt;TextBlock Text="Description:"
                                Style="{ThemeResource SubheaderTextBlockStyle}"
                                Margin="0,24,0,0"/&gt;
                        &lt;TextBlock Text="Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Maecenas porttitor congue massa. Fusce posuere, magna sed pulvinar ultricies, purus lectus malesuada libero, sit amet commodo magna eros quis urna."
                                Style="{ThemeResource SubtitleTextBlockStyle}"
                                TextWrapping="Wrap"/&gt;
                    &lt;/StackPanel&gt;
                &lt;/ScrollViewer&gt;
            &lt;/Grid&gt;
        &lt;/TwoPaneView.Pane2&gt;
        &lt;/TwoPaneView&gt;

    &lt;VisualStateManager.VisualStateGroups&gt;
        &lt;VisualStateGroup x:Name="TwoPaneViewStates"&gt;
            &lt;VisualState x:Name="Normal"/&gt;
            &lt;VisualState x:Name="Wide"&gt;
                &lt;VisualState.Setters&gt;
                    &lt;Setter Target="MyTwoPaneView.Pane1Length"
                    Value="2*"/&gt;
                &lt;/VisualState.Setters&gt;
            &lt;/VisualState&gt;
        &lt;/VisualStateGroup&gt;
    &lt;/VisualStateManager.VisualStateGroups&gt;
&lt;/Grid&gt;
                </x:String>
            </controls:GallerySample.XamlSource>

            <controls:GallerySample.CSharpSource>
                <x:String xml:space="preserve">
private void TwoPaneView_ModeChanged(TwoPaneView sender, object args)
{
    // Remove details content from it's parent panel.
    ((Panel)DetailsContent.Parent).Children.Remove(DetailsContent);
    // Set Normal visual state.
    VisualStateManager.GoToState(this, "Normal", true);

    // Single pane
    if (sender.Mode == TwoPaneViewMode.SinglePane)
    {
        // Add the details content to Pane1.
        Pane1StackPanel.Children.Add(DetailsContent);
    }
    // Dual pane.
    else
    {
        // Put details content in Pane2.
        Pane2Root.Children.Add(DetailsContent);

        // If also in Wide mode, set Wide visual state
        // to constrain the width of the image to 2*.
        if (sender.Mode == TwoPaneViewMode.Wide)
        {
            VisualStateManager.GoToState(this, "Wide", true);
        }
    }
}
                </x:String>
            </controls:GallerySample.CSharpSource>
        </controls:GallerySample>
    </StackPanel>
</Page>
